Module("runtime/nabl/entries",[Imports([Import("runtime/nabl/collect"),Import("runtime/nabl/utils"),Import("runtime/nabl/uri"),Import("runtime/nabl/resolve"),Import("runtime/index/core"),Import("runtime/editor/origins")]),Signature([Constructors([OpDecl("Def",FunType([ConstType(SortNoArgs("URI"))],ConstType(SortNoArgs("Key")))),OpDecl("Alias",FunType([ConstType(SortNoArgs("URI"))],ConstType(SortNoArgs("Key")))),OpDecl("InverseAlias",FunType([ConstType(SortNoArgs("URI"))],ConstType(SortNoArgs("Key")))),OpDecl("Use",FunType([ConstType(SortNoArgs("Result"))],ConstType(SortNoArgs("Key"))))])]),Rules([SDefNoArgs("nabl-diff-entry",Match(NoAnnoList(Op("Def",[Wld])))),SDefNoArgs("nabl-diff-entry",Match(NoAnnoList(Op("Alias",[Wld]))))]),Rules([RDefT("new-def",[],[DefaultVarDec("source"),DefaultVarDec("uri")],Rule(Var("x"),Var("definition"),[WithClause(Seq(Assign(Var("definition"),App(Call(SVar("origin-track-forced"),[Build(NoAnnoList(Op("Def",[Var("uri")])))]),Var("x"))),Seq(BA(CallT(SVar("index-collect"),[],[Var("source")]),Var("definition")),BA(CallT(SVar("new-alias"),[],[Var("source"),App(CallNoArgs(SVar("nabl-nonunique-uri")),Var("uri")),Var("uri")]),Var("x")))))])),RDefT("new-alias",[],[DefaultVarDec("source"),DefaultVarDec("uri"),DefaultVarDec("alias-uri")],Rule(Wld,Var("alias"),[WithClause(Seq(Assign(Var("alias"),NoAnnoList(Op("Alias",[Var("uri")]))),Seq(Assign(Var("ialias"),NoAnnoList(Op("InverseAlias",[Var("alias-uri")]))),IfThen(BA(Not(CallNoArgs(SVar("eq"))),NoAnnoList(Tuple([Var("uri"),Var("alias-uri")]))),Seq(BA(CallT(SVar("index-collect"),[],[Var("alias-uri"),Var("source")]),Var("alias")),BA(CallT(SVar("index-collect"),[],[Var("uri"),Var("source")]),Var("ialias")))))))])),RDefT("new-use",[],[DefaultVarDec("partition"),DefaultVarDec("uri")],Rule(Var("x"),Var("use"),[WithClause(Assign(Var("use"),App(Call(SVar("origin-track-forced"),[Build(NoAnnoList(Op("Use",[Var("uri")])))]),Var("x"))))]))]),Rules([RDefNoArgs("nabl-uri",RuleNoCond(NoAnnoList(Op("Def",[Var("uri")])),Var("uri"))),RDefNoArgs("nabl-uris",RuleNoCond(NoAnnoList(Op("Def",[Var("uri")])),NoAnnoList(List([Var("uri")])))),RDefNoArgs("nabl-uri",RuleNoCond(NoAnnoList(Op("Alias",[Var("uri")])),Var("uri"))),RDefNoArgs("nabl-uris",RuleNoCond(NoAnnoList(Op("Alias",[Var("uri")])),NoAnnoList(List([Var("uri")])))),RDefNoArgs("nabl-uri",RuleNoCond(NoAnnoList(Op("InverseAlias",[Var("uri")])),Var("uri"))),RDefNoArgs("nabl-uris",RuleNoCond(NoAnnoList(Op("InverseAlias",[Var("uri")])),NoAnnoList(List([Var("uri")])))),RDefNoArgs("nabl-uri",RuleNoCond(NoAnnoList(Op("Use",[Var("uri")])),App(Seq(CallNoArgs(SVar("nabl-collect-one-resolved-def")),CallNoArgs(SVar("nabl-uri"))),Var("uri")))),RDefNoArgs("nabl-uris",RuleNoCond(NoAnnoList(Op("Use",[Var("uri")])),App(Seq(CallNoArgs(SVar("nabl-collect-all-resolved-defs")),Call(SVar("map"),[CallNoArgs(SVar("nabl-uri"))])),Var("uri"))))])])