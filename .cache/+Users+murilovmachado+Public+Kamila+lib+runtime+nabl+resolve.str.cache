Module("runtime/nabl/resolve",[Imports([Import("runtime/nabl/tasks"),Import("runtime/nabl/entries"),Import("runtime/task/core"),Import("runtime/task/insert"),Import("runtime/task/utils")]),Rules([SDefNoArgs("nabl-is-reference",Match(NoAnnoList(Op("Use",[Wld])))),SDefNoArgs("nabl-has-reference",Call(SVar("collect-one"),[CallNoArgs(SVar("nabl-is-reference"))])),SDefNoArgs("nabl-has-reference",Seq(CallNoArgs(SVar("has-annos")),Seq(CallNoArgs(SVar("get-annos")),CallNoArgs(SVar("nabl-has-reference"))))),RDefNoArgs("nabl-collect-all-resolved-defs",Rule(Var("ast"),Var(ListVar("def*")),[WithClause(CondChoice(Assign(Var("ast'"),App(CallNoArgs(SVar("insert-results-or-delay")),Var("ast"))),Assign(Var(ListVar("def*")),App(Call(SVar("collect-all-annos"),[Match(NoAnnoList(Op("Def",[Wld]))),CallNoArgs(SVar("conc"))]),Var("ast'"))),Assign(Var(ListVar("def*")),NoAnnoList(List([])))))])),SDefNoArgs("nabl-collect-one-resolved-def",Seq(CallNoArgs(SVar("insert-results-or-delay")),Call(SVar("collect-one-annos"),[Match(NoAnnoList(Op("Def",[Wld])))])))])])