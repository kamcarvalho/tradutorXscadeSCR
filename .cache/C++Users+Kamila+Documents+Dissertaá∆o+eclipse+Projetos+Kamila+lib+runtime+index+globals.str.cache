Module("runtime/index/globals",[Imports([Import("runtime/index/core"),Import("runtime/index/query")]),Signature([Constructors([OpDecl("Global",FunType([ConstType(SortNoArgs("URI"))],ConstType(SortNoArgs("Key"))))])]),Rules([RDefNoArgs("index-globals-path",Rule(Var("names"),App(Seq(CallT(SVar("separate-by"),[],[NoAnnoList(Str("\"/\""))]),CallNoArgs(SVar("concat-strings"))),Var("path")),[WithClause(CondChoice(CallNoArgs(SVar("is-list")),Assign(Var("path"),App(CallNoArgs(SVar("concat")),NoAnnoList(List([Var("names"),NoAnnoList(List([NoAnnoList(Str("\"globals\"")),NoAnnoList(Str("\".internal\""))]))])))),Assign(Var("path"),NoAnnoList(List([Var("names"),NoAnnoList(Str("\"global\"")),NoAnnoList(Str("\".internal\""))])))))])),RDefNoArgs("index-globals-uri",Rule(Var("names"),Var("uri"),[WithClause(CondChoice(CallNoArgs(SVar("is-list")),Assign(Var("uri"),App(CallNoArgs(SVar("concat")),NoAnnoList(List([Var("names"),NoAnnoList(List([NoAnnoList(Str("\"globals\"")),NoAnnoList(Str("\".internal\""))]))])))),Assign(Var("uri"),NoAnnoList(List([Var("names"),NoAnnoList(Str("\"global\"")),NoAnnoList(Str("\".internal\""))])))))])),RDefT("index-get-global",[],[DefaultVarDec("name")],RuleNoCond(Wld,App(CallNoArgs(SVar("index-get-one-value")),NoAnnoList(Op("Global",[App(CallNoArgs(SVar("index-globals-uri")),Var("name"))]))))),RDefT("index-get-all-globals",[],[DefaultVarDec("name")],RuleNoCond(Wld,App(CallNoArgs(SVar("index-get-all-values")),NoAnnoList(Op("Global",[App(CallNoArgs(SVar("index-globals-uri")),Var("name"))]))))),RDefT("index-add-global",[],[DefaultVarDec("name")],Rule(Var("value"),RootApp(Id),[WithClause(BA(CallT(SVar("index-add"),[],[Var("value"),RootApp(CallNoArgs(SVar("index-globals-path")))]),NoAnnoList(Op("Global",[App(CallNoArgs(SVar("index-globals-uri")),Var("name"))]))))])),RDefT("index-set-global",[],[DefaultVarDec("name")],Rule(Var("value"),RootApp(Id),[WithClause(Seq(CallT(SVar("index-clear-global"),[],[Var("name")]),BA(CallT(SVar("index-add-global"),[],[Var("name")]),Var("value"))))])),RDefT("index-clear-global",[],[DefaultVarDec("name")],Rule(Wld,RootApp(Id),[WithClause(BA(Seq(CallNoArgs(SVar("index-globals-path")),CallNoArgs(SVar("index-clear-source"))),Var("name")))]))]),Rules([RDefNoArgs("index-boolean-globals-path",Rule(Var("names"),App(Seq(CallT(SVar("separate-by"),[],[NoAnnoList(Str("\"/\""))]),CallNoArgs(SVar("concat-strings"))),Var("path")),[WithClause(CondChoice(CallNoArgs(SVar("is-list")),Assign(Var("path"),App(CallNoArgs(SVar("concat")),NoAnnoList(List([Var("names"),NoAnnoList(List([NoAnnoList(Str("\"boolean\"")),NoAnnoList(Str("\"globals\"")),NoAnnoList(Str("\".internal\""))]))])))),Assign(Var("path"),NoAnnoList(List([Var("names"),NoAnnoList(Str("\"boolean\"")),NoAnnoList(Str("\"global\"")),NoAnnoList(Str("\".internal\""))])))))])),RDefNoArgs("index-boolean-globals-uri",Rule(Var("names"),Var("uri"),[WithClause(CondChoice(CallNoArgs(SVar("is-list")),Assign(Var("uri"),App(CallNoArgs(SVar("concat")),NoAnnoList(List([Var("names"),NoAnnoList(List([NoAnnoList(Str("\"boolean\"")),NoAnnoList(Str("\"globals\"")),NoAnnoList(Str("\".internal\""))]))])))),Assign(Var("uri"),NoAnnoList(List([Var("names"),NoAnnoList(Str("\"boolean\"")),NoAnnoList(Str("\"global\"")),NoAnnoList(Str("\".internal\""))])))))])),RDefT("index-enable-global",[],[DefaultVarDec("name")],Rule(Wld,RootApp(Id),[WithClause(BA(CallT(SVar("index-add"),[],[RootApp(CallNoArgs(SVar("index-globals-path")))]),NoAnnoList(Op("Global",[App(CallNoArgs(SVar("index-boolean-globals-uri")),Var("name"))]))))])),RDefT("index-disable-global",[],[DefaultVarDec("name")],Rule(Wld,RootApp(Id),[WithClause(BA(Seq(CallNoArgs(SVar("index-boolean-globals-path")),CallNoArgs(SVar("index-clear-source"))),Var("name")))])),RDefT("index-is-global-enabled",[],[DefaultVarDec("name")],Rule(Wld,RootApp(Id),BA(CallNoArgs(SVar("index-get-one-value")),NoAnnoList(Op("Global",[App(CallNoArgs(SVar("index-boolean-globals-uri")),Var("name"))])))))])])