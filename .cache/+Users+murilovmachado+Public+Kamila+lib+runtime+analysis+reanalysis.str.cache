Module("runtime/analysis/reanalysis",[Imports([Import("runtime/analysis/core"),Import("runtime/task/core"),Import("runtime/index/core"),Import("runtime/nabl/collect"),Import("runtime/nabl/namegen"),Import("runtime/properties/collect")]),Rules([SDefT("start-reanalysis",[],[DefaultVarDec("language"),DefaultVarDec("path"),DefaultVarDec("project-path")],Seq(CallT(SVar("nabl-namegen-clear"),[],[App(CallT(SVar("analysis-partition"),[],[Var("project-path")]),Var("path"))]),Seq(CallNoArgs(SVar("index-push")),CallNoArgs(SVar("task-push"))))),SDefT("stop-reanalysis",[],[DefaultVarDec("language"),DefaultVarDec("path"),DefaultVarDec("project-path")],Seq(CallNoArgs(SVar("task-pop")),CallNoArgs(SVar("index-pop")))),SDefT("reanalysis",[DefaultVarDec("s")],[DefaultVarDec("language"),DefaultVarDec("path"),DefaultVarDec("project-path")],Where(Seq(CallT(SVar("start-reanalysis"),[],[Var("language"),Var("path"),Var("project-path")]),Seq(CallNoArgs(SVar("s")),CallT(SVar("stop-reanalysis"),[],[Var("language"),Var("path"),Var("project-path")]))))),RDefT("reanalyze-ast",[],[DefaultVarDec("language"),DefaultVarDec("path"),DefaultVarDec("project-path")],Rule(Var("ast"),Var("analyzed-ast"),[WithClause(Seq(Assign(Var(ListVar("property-kind*")),RootApp(CallNoArgs(SVar("nabl-get-all-properties")))),Seq(Assign(Var("ast'"),App(Call(SVar("topdown"),[Call(SVar("try"),[CallT(SVar("remove-property-annotations"),[],[Var(ListVar("property-kind*"))])])]),Var("ast"))),Seq(Assign(Var("partition"),App(CallT(SVar("analysis-partition"),[],[Var("project-path")]),Var("path"))),Seq(Assign(NoAnnoList(Op("Result",[NoAnnoList(List([NoAnnoList(Op("FileResult",[Wld,Wld,Wld,Wld,Var("analyzed-ast"),Var(ListVar("error*")),Var(ListVar("warning*")),Var(ListVar("note*"))]))])),Wld,Var("debug-result"),Wld])),App(CallT(SVar("analysis-files-no-builtins"),[Id,CallNoArgs(SVar("nabl-collect")),Id,Id,Fail,Fail],[Var("language"),Var("project-path")]),NoAnnoList(List([NoAnnoList(Op("File",[Var("partition"),Var("ast"),NoAnnoList(Real("0.0"))]))])))),Seq(BA(CallNoArgs(SVar("analysis-debug-results")),Var("debug-result")),Seq(BA(Call(SVar("map"),[Call(SVar("analysis-debug"),[Build(NoAnnoList(Str("\"Error: \"")))])]),Var(ListVar("error*"))),Seq(BA(Call(SVar("map"),[Call(SVar("analysis-debug"),[Build(NoAnnoList(Str("\"Warning: \"")))])]),Var(ListVar("warning*"))),BA(Call(SVar("map"),[Call(SVar("analysis-debug"),[Build(NoAnnoList(Str("\"Note: \"")))])]),Var(ListVar("note*")))))))))))]))])])