Module("runtime/properties/query",[Imports([Import("runtime/index/query"),Import("runtime/nabl/uri"),Import("runtime/task/core"),Import("runtime/properties/entries"),Import("runtime/properties/tasks"),Import("runtime/properties/interface"),Import("runtime/nabl/interface"),Import("runtime/editor/annotations")]),Rules([SDefT("get-property-task",[],[DefaultVarDec("kind")],LChoice(Call(SVar("map"),[CallT(SVar("get-property-task"),[],[Var("kind")])]),Seq(CallNoArgs(SVar("get-annos")),Call(SVar("fetch-elem"),[Match(NoAnnoList(Tuple([Var("kind"),RootApp(Id)])))]))))]),Rules([SDefT("get-property",[],[DefaultVarDec("kind")],Seq(LChoice(CallT(SVar("get-property-task"),[],[Var("kind")]),Seq(Call(SVar("try"),[CallNoArgs(SVar("nabl-get-name"))]),CallT(SVar("get-index-property"),[],[Var("kind")]))),Call(SVar("try"),[Seq(CallNoArgs(SVar("task-result-combinations-single")),CallNoArgs(SVar("Hd")))]))),SDefT("get-properties",[],[DefaultVarDec("kind")],Seq(LChoice(CallT(SVar("get-property-task"),[],[Var("kind")]),Seq(Call(SVar("try"),[CallNoArgs(SVar("nabl-get-name"))]),CallT(SVar("get-index-properties"),[],[Var("kind")]))),Call(SVar("try"),[Seq(CallNoArgs(SVar("task-result-combinations-single")),CallNoArgs(SVar("concat")))]))),SDefT("get-index-property",[],[DefaultVarDec("kind")],Seq(CallNoArgs(SVar("nabl-uris")),Call(SVar("fetch-elem"),[Seq(Build(NoAnnoList(Op("Prop",[RootApp(Id),Var("kind")]))),CallNoArgs(SVar("index-get-one-value")))]))),SDefT("get-index-properties",[],[DefaultVarDec("kind")],Seq(CallNoArgs(SVar("nabl-uris")),Call(SVar("mapconcat"),[Seq(Build(NoAnnoList(Op("Prop",[RootApp(Id),Var("kind")]))),CallNoArgs(SVar("index-get-all-values")))])))]),Rules([SDefNoArgs("property-remove-all",Call(SVar("topdown"),[Call(SVar("try"),[Call(SVar("remove-annotations"),[Match(NoAnnoList(Tuple([Wld,Wld])))])])]))])])